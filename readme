<Page x:Class="Theatre.Pages.CaptchaPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Captcha Verification"
      WindowStartupLocation="CenterScreen"
      SizeToContent="WidthAndHeight">

    <Grid>
        <!-- Фоновое изображение на весь экран -->
        <Grid.Background>
            <ImageBrush ImageSource="/Assets/TheaterBackground.jpg" 
                       Stretch="UniformToFill"/>
        </Grid.Background>
        
        <!-- Затемнение фона для лучшей читаемости -->
        <Rectangle Fill="#80000000"/>
        
        <!-- Контейнер формы капчи -->
        <Border Background="#E6FFFFFF"
                CornerRadius="8"
                BorderBrush="#A0522D"
                BorderThickness="1.5"
                Width="350" 
                Height="250"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Effect="{StaticResource ShadowEffect}">
            
            <StackPanel>
                <TextBlock Text="Пожалуйста, введите код с изображения:" 
                           Margin="0,0,0,10"
                           Style="{StaticResource CardTitleTextStyle}"
                           HorizontalAlignment="Center"
                           Foreground="#5D4037"/>

                <Border Background="White"
                        Height="80"
                        Margin="0,0,0,10"
                        CornerRadius="4">
                    <Image x:Name="CaptchaImage" 
                           Stretch="Uniform"/>
                </Border>
                
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Center">
                    <TextBox x:Name="CaptchaTextBox" 
                             Height="40" 
                             Width="250"
                             FontSize="16"
                             Style="{StaticResource BaseTextBoxStyle}"
                             Background="#FFF8E1"
                             Foreground="#5D4037"/>
                    
                    <Button Background="Transparent"
                            Height="40" 
                            Width="40"
                            Margin="10,0,0,0"
                            Click="RefreshButton_Click"
                            BorderThickness="0"
                            ToolTip="Обновить капчу">
                        <Image Source="/Assets/refresh.png" 
                               Width="25" 
                               Height="25"/>
                    </Button>
                </StackPanel>
                
                <Button Content="Подтвердить"
                        Margin="0,15,0,0"    
                        Height="35"
                        Click="VerifyButton_Click" 
                        Style="{StaticResource LoginButtonStyle}"
                        Background="#8D6E63"
                        Foreground="White"/>
            </StackPanel>
        </Border>
    </Grid>
</Page>